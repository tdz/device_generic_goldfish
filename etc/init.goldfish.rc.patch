diff --git a/rootdir/etc/init.goldfish.rc b/rootdir/etc/init.goldfish.rc
index 83b7f8a..656ccb1 100644
--- a/rootdir/etc/init.goldfish.rc
+++ b/rootdir/etc/init.goldfish.rc
@@ -1,3 +1,7 @@
+#----------------------------------------------------------
+# init.goldfish.rc.patch-applied
+#----------------------------------------------------------
+
 on early-init
     export EXTERNAL_STORAGE /mnt/sdcard
     mkdir /mnt/sdcard 0000 system system
@@ -13,6 +17,12 @@ on boot
     setprop ro.build.product generic
     setprop ro.product.device generic
 
+# Bluetooth related settings
+    chown bluetooth bluetooth /sys/class/rfkill/rfkill0/state
+    chmod 0660 /sys/class/rfkill/rfkill0/state
+    chown bluetooth bluetooth /dev/ttyS2
+    chmod 0660 /dev/ttyS2
+
 # fake some battery state
     setprop status.battery.state Slow
     setprop status.battery.level 5
@@ -30,6 +40,68 @@ on boot
 
     setprop ro.setupwizard.mode EMULATOR
 
+    setprop wifi.interface wlan0
+
+on post-fs-data
+    # Create the directories used by the Wireless subsystem
+    mkdir /data/misc/wifi 0770 wifi wifi
+    mkdir /data/misc/wifi/sockets 0770 wifi wifi
+    mkdir /data/misc/wifi/wpa_supplicant 0770 wifi wifi
+    mkdir /data/misc/wifi/hostapd 0770 wifi wifi
+    mkdir /data/misc/wifi/remote-hostapd 0770 wifi wifi # emulator should use this folder.
+    mkdir /data/misc/dhcp 0770 dhcp dhcp
+    chown dhcp dhcp /data/misc/dhcp
+
+    # Create a writable fake fwpath for emulator. (/sys/module/wlan/parameters/fwpath on device)
+    write /data/misc/wifi/fake_fwpath sta
+
+    # Create the directories used by DarwinStreamingServer.
+    mkdir /data/misc/streaming 0770
+    mkdir /data/misc/streaming/logs 0770
+    mkdir /data/misc/streaming/media 0770
+
+service wpa_supplicant /system/bin/logwrapper /system/bin/wpa_supplicant -Dtest -iwlan0 -c/data/misc/wifi/wpa_supplicant_test.conf -ddd
+    class late_start
+    user root
+    group wifi inet
+    socket wpa_wlan0 dgram 660 wifi wifi
+    disabled
+    oneshot
+
+service dhcpcd_eth1 /system/bin/dhcpcd -ABKLG
+    class late_start
+    disabled
+    oneshot
+
+service dhcpcd_wlan0 /system/bin/dhcpcd -ABKLG
+    class late_start
+    disabled
+    oneshot
+
+service dhcpcd_p2p /system/bin/dhcpcd -ABKLG
+    class late_start
+    disabled
+    oneshot
+
+# Default goldfish AP.
+service goldfish-hostapd /system/bin/hostapd /system/etc/wifi/goldfish-hostapd.conf
+    class late_start
+    user root
+    group wifi net
+    oneshot
+
+# Darwin Streaming Server.
+service dss /system/bin/DarwinStreamingServer -d
+    class late_start
+    user root
+    disabled
+    oneshot
+
+service dss-setup /system/bin/sh /system/etc/init.goldfish.dss.sh
+    class late_start
+    user root
+    oneshot
+
 # enable Google-specific location features,
 # like NetworkLocationProvider and LocationCollector
     setprop ro.com.google.locationfeatures 1
@@ -76,3 +148,10 @@ service qemud /system/bin/qemud
 
 service goldfish-logcat /system/bin/logcat -Q
     oneshot
+
+service hciattach /system/bin/sh /system/etc/init.goldfish.bt.sh
+    class late_start
+    user bluetooth
+    group bluetooth net_bt_admin
+    disabled
+    oneshot
